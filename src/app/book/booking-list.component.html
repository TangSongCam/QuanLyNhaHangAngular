<div class="container mt-4">
  <h2 class="text-center mb-4">üìÖ Danh S√°ch ƒê·∫∑t B√†n</h2>

  <!-- B·∫£ng danh s√°ch ƒë·∫∑t b√†n -->
  <table class="table table-bordered table-striped text-center">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Kh√°ch h√†ng</th>
        <th>ƒêi·ªán tho·∫°i</th>
        <th>Ng√†y ƒë·∫∑t</th>
        <th>S·ªë kh√°ch</th>
        <th>B√†n</th>
        <th>Ghi ch√∫</th>
        <th>H√†nh ƒë·ªông</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let booking of bookings">
        <td>{{ booking.id }}</td>
        <td>{{ booking.customerName }}</td>
        <td>{{ booking.phoneNumber }}</td>
        <td>{{ booking.bookingDate | date: 'dd/MM/yyyy' }}</td>
        <td>{{ booking.numberOfGuests }}</td>
        <td>{{ booking.tableId }}</td>
        <td>{{ booking.notes }}</td>
        <td>
          <button class="btn btn-warning btn-sm me-2" (click)="edit(booking)">‚úèÔ∏è S·ª≠a</button>
          <button class="btn btn-danger btn-sm" (click)="deleteBooking(booking.id)">üóëÔ∏è X√≥a</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Form Th√™m B√†n-->
  <div class="card mt-4 shadow">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h4 class="card-title mb-0">‚ûï Th√™m ƒê·∫∑t B√†n</h4>
      <button class="btn btn-link" (click)="toggleAddForm()">
        {{ showAddForm ? 'Thu g·ªçn ‚ñ≤' : 'M·ªü r·ªông ‚ñº' }}
      </button>
    </div>
    <div class="card-body" *ngIf="showAddForm">
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="newBooking.customerName"
          placeholder="T√™n kh√°ch h√†ng"
        />
      </div>
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="newBooking.phoneNumber"
          placeholder="S·ªë ƒëi·ªán tho·∫°i"
        />
      </div>
      <div class="mb-3">
        <input type="date" class="form-control" [(ngModel)]="newBooking.bookingDate" />
      </div>
      <div class="mb-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="newBooking.numberOfGuests"
          placeholder="S·ªë kh√°ch"
        />
      </div>
      <div class="mb-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="newBooking.tableId"
          placeholder="ID B√†n"
        />
      </div>
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="newBooking.notes"
          placeholder="Ghi ch√∫"
        />
      </div>
      <button class="btn btn-primary" (click)="addBooking()">Th√™m</button>
    </div>
  </div>

  <!-- Form Ch·ªânh S·ª≠a B√†n -->
  <div *ngIf="editBooking" class="card mt-4 shadow">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h4 class="card-title mb-0">‚úèÔ∏è Ch·ªânh S·ª≠a ƒê·∫∑t B√†n</h4>
      <button class="btn btn-link" (click)="toggleEditForm()">
        {{ showEditForm ? 'Thu g·ªçn ‚ñ≤' : 'M·ªü r·ªông ‚ñº' }}
      </button>
    </div>
    <div class="card-body" *ngIf="showEditForm">
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="editBooking.customerName"
          placeholder="T√™n kh√°ch h√†ng"
        />
      </div>
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="editBooking.phoneNumber"
          placeholder="S·ªë ƒëi·ªán tho·∫°i"
        />
      </div>
      <div class="mb-3">
        <input type="date" class="form-control" [(ngModel)]="editBooking.bookingDate" />
      </div>
      <div class="mb-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="editBooking.numberOfGuests"
          placeholder="S·ªë kh√°ch"
        />
      </div>
      <div class="mb-3">
        <input
          type="number"
          class="form-control"
          [(ngModel)]="editBooking.tableId"
          placeholder="ID B√†n"
        />
      </div>
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          [(ngModel)]="editBooking.notes"
          placeholder="Ghi ch√∫"
        />
      </div>
      <button class="btn btn-success" (click)="updateBooking()">C·∫≠p nh·∫≠t</button>
    </div>
  </div>
</div>
