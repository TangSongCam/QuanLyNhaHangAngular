<div class="container mt-4">
  <h2 class="text-center mb-4">üìã Danh S√°ch B√†n</h2>

  <!-- B·∫£ng danh s√°ch b√†n -->
  <table class="table table-bordered table-striped text-center">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>T√™n b√†n</th>
        <th>Tr·∫°ng th√°i</th>
        <th>H√†nh ƒë·ªông</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let table of tables">
        <td>{{ table.id }}</td>
        <td>{{ table.name }}</td>
        <td>
          <span class="badge" [ngClass]="table.status === 'Available' ? 'bg-success' : 'bg-danger'">
            {{ table.status }}
          </span>
        </td>
        <td>
          <button class="btn btn-warning btn-sm me-2" (click)="edit(table)">
            ‚úèÔ∏è S·ª≠a
          </button>
          <button class="btn btn-danger btn-sm" (click)="deleteTable(table.id)">
            üóëÔ∏è X√≥a
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Form Th√™m B√†n v·ªõi toggle -->
  <div class="card mt-4 shadow">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h4 class="card-title mb-0">‚ûï Th√™m B√†n M·ªõi</h4>
      <button class="btn btn-link" (click)="toggleAddForm()">
        {{ showAddForm ? 'Thu g·ªçn ‚ñ≤' : 'M·ªü r·ªông ‚ñº' }}
      </button>
    </div>
    <div class="card-body" *ngIf="showAddForm">
      <div class="input-group mb-3">
        <!-- Input cho t√™n b√†n -->
        <input
          type="text"
          class="form-control"
          [(ngModel)]="newTable.name"
          placeholder="Nh·∫≠p t√™n b√†n"
        />
      </div>
      <div class="input-group mb-3">
        <!-- S·ª≠ d·ª•ng dropdown cho tr·∫°ng th√°i b√†n -->
        <select class="form-control" [(ngModel)]="newTable.status">
          <option value="Available">Available</option>
          <option value="Occupied">Occupied</option>
        </select>
        <button class="btn btn-primary" (click)="addTable()">Th√™m</button>
      </div>
    </div>
  </div>

  <!-- Form S·ª≠a B√†n v·ªõi toggle (ch·ªâ hi·ªÉn th·ªã khi editTable kh√°c null) -->
  <div *ngIf="editTable" class="card mt-4 shadow">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h4 class="card-title mb-0">‚úèÔ∏è Ch·ªânh S·ª≠a B√†n</h4>
      <button class="btn btn-link" (click)="toggleEditForm()">
        {{ showEditForm ? 'Thu g·ªçn ‚ñ≤' : 'M·ªü r·ªông ‚ñº' }}
      </button>
    </div>
    <div class="card-body" *ngIf="showEditForm">
      <div class="input-group mb-3">
        <!-- Input cho t√™n b√†n -->
        <input
          type="text"
          class="form-control"
          [(ngModel)]="editTable.name"
          placeholder="Nh·∫≠p t√™n b√†n m·ªõi"
        />
      </div>
      <div class="input-group mb-3">
        <!-- Dropdown cho tr·∫°ng th√°i b√†n -->
        <select class="form-control" [(ngModel)]="editTable.status">
          <option value="Available">Available</option>
          <option value="Occupied">Occupied</option>
        </select>
        <button class="btn btn-success" (click)="updateTable()">C·∫≠p nh·∫≠t</button>
      </div>
    </div>
  </div>
</div>
